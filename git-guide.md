# GIT规范<!-- omit in toc -->

此规范描述开发过程中GIT的使用规范

- [新建分支](#新建分支)
- [分支命名规范](#分支命名规范)
- [提交规范](#提交规范)
- [提交说明规范](#提交说明规范)
  - [类型标识符](#类型标识符)
    - [增加新功能](#增加新功能)
    - [修补bug](#修补bug)
    - [文档改动](#文档改动)
    - [格式变动（不影响代码运行）](#格式变动不影响代码运行)
    - [代码重构（既不修复错误也不添加功能）](#代码重构既不修复错误也不添加功能)
    - [增加测试](#增加测试)
    - [性能提升](#性能提升)
    - [构建过程或辅助工具的变动](#构建过程或辅助工具的变动)

## 新建分支

当处理对不同目标的修改时，要从远程仓库的分支上新建分支，不要将多个目标放到一个分支。保证代码为最新的版本，推送到远程仓库时，推到相应的分支上。

## 分支命名规范

1. 分支命名一般为`个人名字简称`+`/`+`提交功能简写`。

## 提交规范

Git 提交时，建议先将多次Commit合并为一个Commit，方法：

1. 用`git reset soft`
2. VSCode的**Source Control**标签页中可以选择**Undo Last Commit**

## 提交说明规范

Git 每次提交代码，都要写 Commit message（提交说明），因此我们参考Angular 的代码提交规范，列出了Commit message的格式：

    类型标识符+英文冒号+一个空格+相关的帖子号（可选）+提交描述（不超过50字）

### 类型标识符

其中类型标识符分为以下8种：

| 类型标识符 | 描述
| ------- | ----
| `feat`  | 增加新功能（feature）
| `fix` | 修补bug
| `docs`  | 文档上的更改(documentation)
| `style`| 格式变动（不影响代码运行）
| `refactor`  | 代码重构
| `test`    | 增加测试
| `perf`| 性能提升
| `chore` | 构建过程或辅助工具的变动
|||

#### 增加新功能

有新的功能增加时，Commit message类型标识符为feat(feature)。提交描述的句式为：增加xxxxx的功能（接口）。例如：

    feat: 新增xxx组件

#### 修补bug

修补bug的提交，Commit message类型标识符为fix。提交描述的句式为：修正（解决）了xxxxx的问题。例如：

    fix: 修复了画笔丢字相关问题

#### 文档改动

改动了相关文档，Commit message类型标识符为docs(documentation)。提交描述的句式为：完善（增加）了xxxxx到xxxxxx文档中。例如：

    docs: 完善了H5端demo

#### 格式变动（不影响代码运行）

不影响代码含义的变化（空白，格式化，缺少分号，增加注释等），Commit message类型标识符为style。提交描述变动了什么样式。例如：

    style: 更新用户列表组件样式

#### 代码重构（既不修复错误也不添加功能）

对代码进行了更改，但是没有修复bug，也没有增加新功能。Commit message类型标识符为refactor。提交描述更改了什么文件的什么功能，或者对文件进行了什么重构操作。例如：

    refactor: 画笔重构

#### 增加测试

添加缺失测试或更正现有测试。Commit message标识符为test。提交描述的句式为：更正（增加）了xxxxx的测试用例。例如：

    test: 增加了Select的测试用例

#### 性能提升

性能有所提升，改善。Commit message标识符为perf(Performance Improvements)。提交描述提升了哪方面的性能。例如：

    perf: 提高首屏加载速度

#### 构建过程或辅助工具的变动

影响构建系统或外部依赖关系的更改（示例范围：webpack，npm）。Commit message标识符为chore。提交描述变动了什么构建过程或辅助工具。例如：

    chore: 更新构建脚本
